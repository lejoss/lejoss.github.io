(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(55),c=n.n(s),o=n(25),u=n.n(o),i=n(56),l=n(28),d=n(5),p=n(26),f=n.n(p),m=n(14),h=n.n(m),g=n(27),y=n.n(g),v=function(e){var t=e.post;return r.a.createElement("div",null,r.a.createElement("h2",null,t.title),r.a.createElement("h4",null,t.body),r.a.createElement("h5",null,"Username: ",t.username),r.a.createElement("h5",null,"City: ",t.city))},b=n(165),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.a.useState((function(){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=Object(d.a)(n,2),s=a[0],c=a[1],o=function(t){try{var n=t instanceof Function?t(t):t;c(n),localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}};return[s,o]},O={posts:[],users:{},fetching:!1};c.a.render(r.a.createElement((function(){var e=E("clientId"),t=Object(d.a)(e,2),n=t[0],a=t[1],s=E("data"),c=Object(d.a)(s,2),o=c[0],p=c[1],m=r.a.useState((function(){if(!h()(o)){var e=JSON.parse(o);return Object(l.a)({},O,{clientId:n,posts:e.posts,users:e.users})}return O})),g=Object(d.a)(m,2),j=g[0],S=j.posts,I=j.users,J=j.fetching,k=g[1],w=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(Object(l.a)({},O,{fetching:!0})),e.next=3,f.a.get("https://jsonplaceholder.typicode.com/posts");case 3:return t=e.sent,e.next=6,f.a.get("https://jsonplaceholder.typicode.com/users");case 6:n=e.sent,k({posts:t.data,users:y()(n.data,"id"),fetching:!1}),a=JSON.stringify({posts:t.data,users:y()(n.data,"id")}),p(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){h()(n)&&a(Object(b.a)())}),[]),r.a.useEffect((function(){h()(o)&&w()}),[]);var x=S.map((function(e){var t={id:e.id,title:e.title,body:e.body,username:I[e.userId].username,city:I[e.userId].address.city};return r.a.createElement(v,{key:t.id,post:t})}));return J?r.a.createElement("h2",{"data-testid":"loading"},"loading..."):r.a.createElement(r.a.Fragment,null,x)}),null),document.getElementById("root"))},57:function(e,t,n){e.exports=n(163)}},[[57,1,2]]]);
//# sourceMappingURL=main.facdebe4.chunk.js.map